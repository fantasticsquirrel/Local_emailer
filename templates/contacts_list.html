{% extends "base.html" %}
{% block content %}
<h1>Contacts</h1>
<p><a href="{{ url_for('contact_new') }}">Add Contact</a></p>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Tags</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for c in contacts %}
      <tr>
        <td>{{ c.id }}</td>
        <td>{{ c.name }}</td>
        <td>{{ c.email }}</td>
        <td>{{ c.tags }}</td>
        <td>
          <a href="{{ url_for('contact_edit', contact_id=c.id) }}">Edit</a>
          <form method="post" action="{{ url_for('contact_delete', contact_id=c.id) }}" style="display:inline">
            <button type="submit" onclick="return confirm('Delete this contact?');">Delete</button>
          </form>
          <a href="{{ url_for('compose_email') }}?to={{ c.email }}">Compose</a>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
